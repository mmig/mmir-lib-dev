!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof module&&module.exports?module.exports=r():e.JSCC=r()}("undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this,function(){function A(e){console.log("JS/CC loaded/finished! "+(null!=e?"number"==typeof e?0<e?"number of ERRORs "+e:"":"ERROR "+e:""))}var r=[],t=[];function n(e){s&&console.error("JS/CC ERROR: "+e)}function a(e){p&&console.warn("JS/CC WARNING: "+e)}function o(e){console.log("JS/CC INFO: "+e)}function l(e){console.log("JS/CC ALERT: "+e)}var v,_,w,C,m,S,E,y,s,u,p,b,k,R,c,L,h,T,x=o,P=l,d=n,f=a,I=function(e){++y,r.push(e),d(e)},g=function(e){++u,t.push(e),f(e)},N="0.30",O=0,j=1,M=0,F=1,J=2,W=0,D=1,G=2,H=3,U="%% = %1;",B=0,Y=1,$=2,q=0,V=0,X=255,z=0,K=1,Q=2;function Z(){}function ee(){}function re(){}function te(){}function ne(){}function ae(){}function oe(){}function le(e,r,t){var n;if(0!=t.length){for(e==$?(x('<table class="debug" cellpadding="0" cellspacing="0">'),x("<tr>"),x('<td class="tabtitle" colspan="2">'+r+"</td>"),x("</tr>"),x("<tr>"),x('<td class="coltitle" width="35%">Lookahead</td>'),x('<td class="coltitle" width="65%">Production</td>'),x("</tr>")):e==B&&x("--- "+r+" ---"),n=0;n<t.length;n++)if(e==$){for(x("<tr>"),x("<td>"),o=0;o<t[n].lookahead.length;o++)x(" <b>"+v[t[n].lookahead[o]].label+"</b> ");for(x("</td>"),x("<td>"),x(v[_[t[n].prod].lhs].label+" -&gt; "),o=0;o<_[t[n].prod].rhs.length;o++)o==t[n].dot_offset&&x("."),v[_[t[n].prod].rhs[o]].kind==j?x(" <b>"+v[_[t[n].prod].rhs[o]].label+"</b> "):x(" "+v[_[t[n].prod].rhs[o]].label+" ");o==t[n].dot_offset&&x("."),x("</td>"),x("</tr>")}else if(e==B){for(var a=new String,o=(a+=v[_[t[n].prod].lhs].label).length;o<20;o++)a+=" ";for(a+=" -> ",o=0;o<_[t[n].prod].rhs.length;o++)o==t[n].dot_offset&&(a+="."),v[_[t[n].prod].rhs[o]].kind==j?a+=" #"+v[_[t[n].prod].rhs[o]].label+" ":a+=" "+v[_[t[n].prod].rhs[o]].label+" ";for(o==t[n].dot_offset&&(a+="."),o=a.length;o<60;o++)a+=" ";for(a+="{ ",o=0;o<t[n].lookahead.length;o++)a+="#"+v[t[n].lookahead[o]].label+" ";x(a+="}")}e==$&&x("</table>")}}function se(){var e,r=0,t=0;do{t=r;for(var n=r=0;n<v.length;n++)if(v[n].kind==O)for(var a=0;a<v[n].prods.length;a++){e=!1;for(var o=0;o<_[v[n].prods[a]].rhs.length&&(v[n].first=Se(v[n].first,v[_[v[n].prods[a]].rhs[o]].first),e=v[_[v[n].prods[a]].rhs[o]].nullable);o++);r+=v[n].first.length,o==_[v[n].prods[a]].rhs.length&&(e=!0),v[n].nullable|=e}}while(r!=t)}function ce(e){var r,t,n,a=new String,o=0;for(e==$?(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="2">Pop-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">Left-hand side</td>',a+='<td class="coltitle">Number of symbols to pop</td>',a+="</tr>"):e==Y&&(a+="/* Pop-Table */\n",a+="var pop_tab = new Array(\n"),r=0;r<_.length;r++)e==$?(a+="<tr>",a+='<td style="border-right: 1px solid lightgray;">'+_[r].lhs+"</td>",a+="<td>"+_[r].rhs.length+"</td>",a+="</tr>"):e==Y&&(a+="\tnew Array( "+_[r].lhs+"/* "+v[_[r].lhs].label+" */, "+_[r].rhs.length+" )"+(r<_.length-1?",\n":"\n"));if(e==$?a+="</table>":e==Y&&(a+=");\n\n"),e==$){for(r=0;r<v.length;r++)v[r].kind==j&&o++;for(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="'+(o+1)+'">Action-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">State</td>',r=0;r<v.length;r++)v[r].kind==j&&(a+="<td><b>"+v[r].label+"</b></td>");for(a+="</tr>",r=0;r<w.length;r++){for(a+="<tr>",a+='<td class="coltitle" style="border-right: 1px solid lightgray;">'+r+"</td>",t=0;t<v.length;t++)v[t].kind==j&&(a+="<td>",null!=(n=pe(w[r].actionrow,t))&&(a+=n<=0?"r"+-1*n:"s"+n),a+="</td>");a+="</tr>"}a+="</table>"}else if(e==Y){for(a+="/* Action-Table */\n",a+="var act_tab = new Array(\n",r=0;r<w.length;r++){for(a+="\t/* State "+r+" */ new Array( ",t=0;t<w[r].actionrow.length;t++)a+=w[r].actionrow[t][0]+'/* "'+v[w[r].actionrow[t][0]].label+'" */,'+w[r].actionrow[t][1]+(t<w[r].actionrow.length-1?" , ":"");a+=" )"+(r<w.length-1?",\n":"\n")}a+=");\n\n"}if(e==$){for(r=0;r<v.length;r++)v[r].kind==O&&o++;for(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="'+(o+1)+'">Goto-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">State</td>',r=0;r<v.length;r++)v[r].kind==O&&(a+="<td>"+v[r].label+"</td>");for(a+="</tr>",r=0;r<w.length;r++){for(a+="<tr>",a+='<td class="coltitle" style="border-right: 1px solid lightgray;">'+r+"</td>",t=0;t<v.length;t++)v[t].kind==O&&(a+="<td>",null!=(n=pe(w[r].gotorow,t))&&(a+=n),a+="</td>");a+="</tr>"}a+="</table>"}else if(e==Y){for(a+="/* Goto-Table */\n",a+="var goto_tab = new Array(\n",r=0;r<w.length;r++){for(a+="\t/* State "+r+" */",a+=" new Array( ",t=0;t<w[r].gotorow.length;t++)a+=w[r].gotorow[t][0]+"/* "+v[w[r].gotorow[t][0]].label+" */,"+w[r].gotorow[t][1]+(t<w[r].gotorow.length-1?" , ":"");a+=" )"+(r<w.length-1?",\n":"\n")}a+=");\n\n"}return a}function he(e){var r,t,n,a,o,l,s=new String;for(s+="switch( state )\n",s+="{\n",r=0;r<e.length;r++){for(s+="\tcase "+r+":\n",l=!0,t=0;t<e.length;t++){for(a=-1,o=!0,n=0;n<e[r].line.length+1;n++)n<e[r].line.length&&e[r].line[n]==t?-1==a&&(a=n):-1<a&&(o?(s+="\t\t",l||(s+="else "),s+="if( ",l=o=!1):s+=" || ",s+=a==n-1?"info.src.charCodeAt( pos ) == "+a:"( info.src.charCodeAt( pos ) >= "+a+" && info.src.charCodeAt( pos ) <= "+(n-1)+" )",a=-1,n--);o||(s+=" ) state = "+t+";\n")}s+="\t\t",l||(s+="else "),s+="state = -1;\n",-1<e[r].accept&&(s+="\t\tmatch = "+e[r].accept+";\n",s+="\t\tmatch_pos = pos;\n"),s+="\t\tbreak;\n\n"}return s+="}\n\n"}function ie(){var e,r=new String;for(r+="/* Symbol labels */\n",r+="var labels = new Array(\n",e=0;e<v.length;e++)r+='\t"'+v[e].label+'" ',v[e].kind==j?r+="/* Terminal symbol */":r+="/* Non-terminal symbol */",e<v.length-1&&(r+=","),r+="\n";return r+=");\n\n"}function de(){var e,r,t,n,a=new String,o=new RegExp("%match|%offset|%source"),l=0;for(a+="switch( match )\n",a+="{\n",e=0;e<v.length;e++)if(v[e].kind==j&&""!=v[e].code){for(a+="\tcase "+e+":\n",a+="\t\t{\n",t=new String,r=0;r<v[e].code.length;r++,0)(n=o.exec(v[e].code.substr(r,v[e].code.length)))&&0==n.index?("%match"==n[0]?t+="info.att":"%offset"==n[0]?t+="( info.offset - info.att.length )":"%source"==n[0]&&(t+="info.src"),r+=n[0].length-1,t.length):t+=v[e].code.charAt(r);a+="\t\t"+t+"\n",a+="\t\t}\n",a+="\t\tbreak;\n\n",l++}return a+="}\n\n",0==l?new String:a}function fe(){var e,r,t,n,a,o=new String,l=new RegExp("%[0-9]+|%%");for(o+="switch( act )\n",o+="{\n",t=0;t<_.length;t++){for(o+="\tcase "+t+":\n",o+="\t{\n",e=new String,n=0;n<_[t].code.length;n++,0)(r=l.exec(_[t].code.substr(n,_[t].code.length)))&&0==r.index?("%%"==r[0]?e+="rval":(a=parseInt(r[0].substr(1,r[0].length)),e+="vstack[ vstack.length - "+(a=_[t].rhs.length-a+1)+" ]"),n+=r[0].length-1,e.length):e+=_[t].code.charAt(n);o+="\t\t"+e+"\n",o+="\t}\n",o+="\tbreak;\n"}return o+="}\n\n"}function ge(){for(var e=-1,r=0;r<v.length;r++)if(v[r].special==F){e=r;break}return-1==e&&I("No EOF-symbol defined - This might not be possible (bug!)"),e}function Ae(){return w.length+1}function e(){return m}function we(){var e=new te;return e.kernel=new Array,e.epsilon=new Array,e.actionrow=new Array,e.gotorow=new Array,e.done=!1,e.closed=!1,w.push(e),e}function ye(e){var r=new re;return r.prod=e,r.dot_offset=0,r.lookahead=new Array,r}function ue(e,r,t){for(var n=0;n<e.length;n++)if(e[n][0]==r)return e;return e.push(new Array(r,t)),e}function pe(e,r){for(var t=0;t<e.length;t++)if(e[t][0]==r)return e[t][1]}function be(e,r,t){t=t||M;for(var n=0;n<v.length;n++)if(v[n].label.toString()==e.toString()&&v[n].kind==r&&v[n].special==t)return n;return-1}function Ce(e,r,t){var n;if(-1<(n=be(e,r,t)))return v[n].id;var a=new Z;return a.label=e,a.kind=r,a.prods=new Array,a.nullable=!1,a.id=v.length,a.code=new String,a.assoc=W,a.level=0,a.special=t,a.defined=!1,a.first=new Array,r==j&&a.first.push(a.id),v.push(a),a.id}function ke(e,r){for(var t,n,a,o=0,l=0,s=0;s<e.length;s++)if(e[s].dot_offset<_[e[s].prod].rhs.length&&v[_[e[s].prod].rhs[e[s].dot_offset]].kind==O)for(t=0;t<v[_[e[s].prod].rhs[e[s].dot_offset]].prods.length;t++){for(n=0;n<r.length&&r[n].prod!=v[_[e[s].prod].rhs[e[s].dot_offset]].prods[t];n++);n==r.length&&(a=ye(v[_[e[s].prod].rhs[e[s].dot_offset]].prods[t]),r.push(a),o++),l=r[n].lookahead.length,function(e,r,t){for(var n=!0,a=t;a<r.rhs.length&&(e.lookahead=Se(e.lookahead,v[r.rhs[a]].first),v[r.rhs[a]].nullable||(n=!1),n);a++);return n}(r[n],_[e[s].prod],e[s].dot_offset+1)&&(r[n].lookahead=Se(r[n].lookahead,e[s].lookahead)),o+=r[n].lookahead.length-l}return o}function ve(e){for(var r,t,n,a,o,l,s=new Array,c=0,h=0;(c=ke(0==(h=c)?w[e].kernel:s,s))!=h;);for(a=0;a<w[e].kernel.length;a++)if(w[e].kernel[a].dot_offset<_[w[e].kernel[a].prod].rhs.length)for(s.unshift(new re),s[0].prod=w[e].kernel[a].prod,s[0].dot_offset=w[e].kernel[a].dot_offset,s[0].lookahead=new Array,o=0;o<w[e].kernel[a].lookahead.length;o++)s[0].lookahead[o]=w[e].kernel[a].lookahead[o];for(a=0;a<s.length;a++)if(0==_[s[a].prod].rhs.length){for(o=0;o<w[e].epsilon.length&&(w[e].epsilon[o].prod!=s[a].prod||w[e].epsilon[o].dot_offset!=s[a].dot_offset);o++);o==w[e].epsilon.length&&w[e].epsilon.push(s[a]),s.splice(a,1)}for(;0<s.length;){for(t=new Array,r=new Array,n=-1,a=0;a<s.length;a++)0==t.length&&(n=_[s[a].prod].rhs[s[a].dot_offset]),s[a].dot_offset<_[s[a].prod].rhs.length&&(_[s[a].prod].rhs[s[a].dot_offset]==n?(s[a].dot_offset++,t.push(s[a])):r.push(s[a]));if(0<t.length){for(a=0;a<w.length&&!function(e,r){var t,n,a=0;if(e.length==r.length){for(t=0;t<e.length;t++)for(n=0;n<r.length;n++)if(e[t].prod==r[n].prod&&e[t].dot_offset==r[n].dot_offset){a++;break}return a==e.length}}(w[a].kernel,t);a++);for(a==w.length&&(we().kernel=t),o=c=l=0;o<t.length;o++)l+=w[a].kernel[o].lookahead.length,w[a].kernel[o].lookahead=Se(w[a].kernel[o].lookahead,t[o].lookahead),c+=w[a].kernel[o].lookahead.length;if(l!=c&&(w[a].done=!1),!w[e].closed)for(o=0;o<t.length;o++)t[o].dot_offset-1<_[t[o].prod].rhs.length&&(v[_[t[o].prod].rhs[t[o].dot_offset-1]].kind==j?(w[e].actionrow=ue(w[e].actionrow,_[t[o].prod].rhs[t[o].dot_offset-1],a),b++):(w[e].gotorow=ue(w[e].gotorow,_[t[o].prod].rhs[t[o].dot_offset-1],a),R++))}s=r}w[e].closed=!0}function _e(e,r){for(var t,n=0;n<e.length;n++)if(e[n].dot_offset==_[e[n].prod].rhs.length)for(t=0;t<e[n].lookahead.length;t++){var a,o,l=!0,s=o=pe(w[r].actionrow,e[n].lookahead[t]);null==o?(w[r].actionrow=ue(w[r].actionrow,e[n].lookahead[t],-1*e[n].prod),k++):(a=new String,a=0<o?((0<v[e[n].lookahead[t]].level||0<_[e[n].prod].level)&&(v[e[n].lookahead[t]].level==_[e[n].prod].level?v[e[n].lookahead[t]].assoc==D?s=-1*e[n].prod:v[e[n].lookahead[t]].assoc==H&&(function(e,r){for(var t=0;t<e.length;t++)if(e[t][0]==r)return e.splice(t,1)}(w[r].actionrow,e[n].lookahead[t]),g("Removing nonassociative symbol '"+v[e[n].lookahead[t]].label+"' in state "+r),l=!1):v[e[n].lookahead[t]].level<_[e[n].prod].level&&(s=-1*e[n].prod)),"Shift"):(s=-1*s<e[n].prod?s:-1*e[n].prod,"Reduce"),a+="-reduce conflict on symbol '"+v[e[n].lookahead[t]].label+"' in state "+r,a+="\n         Conflict resolved by "+(s<=0?"reducing with production":"shifting to state")+" "+(s<=0?-1*s:s),l&&g(a),s!=o&&function(e,r,t){for(var n=0;n<e.length;n++)if(e[n][0]==r)return e[n][1]=t}(w[r].actionrow,e[n].lookahead[t],s))}}function me(e){var r,t=ye(0),n=Ce("$",j,F);for(t.lookahead.push(n),(n=we()).kernel.push(t);0<=(r=function(){for(var e=0;e<w.length;e++)if(0==w[e].done)return e;return-1}());)w[r].done=!0,ve(r);for(r=0;r<w.length;r++)_e(w[r].kernel,r),_e(w[r].epsilon,r);if(e){for(r=0;r<w.length;r++)le(c==q?B:$,"states["+r+"].kernel",w[r].kernel),le(c==q?B:$,"states["+r+"].epsilon",w[r].epsilon);x(w.length+" States created.")}}function Se(e,r){for(var t,n=0;n<r.length;n++){for(t=0;t<e.length&&r[n]!=e[t];t++);t==e.length&&e.push(r[n])}return e}function Ee(e){var r;L=1,c=e,v=new Array,_=new Array,w=new Array,C=new Array,new Array,new Array,Ce("",O,M),v[0].defined=!0,(r=new ee).lhs=0,r.rhs=new Array,r.code=new String("%% = %1;"),v[0].prods.push(_.length),_.push(r),m=-1,p=!(s=!(y=0)),h=R=k=b=u=0,S=new String,E=new String}function Re(e,r,t){return(e||!(r<0))&&(t?e[Math.floor(r/8)]|=1<<r%8:e[Math.floor(r/8)]&=255^1<<r%8,1)}function Le(e,r){return(e||!(r<0))&&e[Math.floor(r/8)]&1<<r%8}function Te(){for(var e=0;e<v.length;e++)v[e].kind==O&&0==v[e].defined&&I('Call to undefined non-terminal "'+v[e].label+'"')}function xe(){for(var e,r,t,n=new Array,a=new Array,o=0;o<v.length&&v[o].kind!=O;o++);if(o!=v.length){for(n.push(o),a.push(o);0<n.length;)for(o=n.pop(),e=0;e<v[o].prods.length;e++)for(r=0;r<_[v[o].prods[e]].rhs.length;r++)if(v[_[v[o].prods[e]].rhs[r]].kind==O){for(t=0;t<a.length&&a[t]!=_[v[o].prods[e]].rhs[r];t++);t==a.length&&(n.push(_[v[o].prods[e]].rhs[r]),a.push(_[v[o].prods[e]].rhs[r]))}for(o=0;o<v.length;o++)if(v[o].kind==O){for(e=0;e<a.length&&a[e]!=o;e++);e==a.length&&g('Unreachable non-terminal "'+v[o].label+'"')}}}function Pe(e){var r=new ae;return r.line=new Array(X),r.accept=-1,r.nfa_set=new Array,r.done=!1,r.group=-1,e.push(r),e.length-1}function Ie(e,r,t){for(var n=new Array,a=-1;r[a=e.pop()].edge==Q&&Le(r[a].ccl,t)&&n.push(r[a].follow),0<e.length;);return n}function Ne(e,r){for(var t=new Array,n=new Array,a=-1,o=0;o<e.length;o++)t.push(e[o]);do{if(0<=r[a=t.pop()].accept&&n.push(r[a].accept),r[a].edge==K){if(-1<r[a].follow){for(o=0;o<e.length&&e[o]!=r[a].follow;o++);o==e.length&&(e.push(r[a].follow),t.push(r[a].follow))}if(-1<r[a].follow2){for(o=0;o<e.length&&e[o]!=r[a].follow2;o++);o==e.length&&(e.push(r[a].follow2),t.push(r[a].follow2))}}}while(0<t.length);return n.sort()}function Oe(e){var r,t,n=new Array,a=new Array,o=Pe(n),l=-1;if(0==e.length)return n;for(a.push(0),Ne(a,e),n[o].nfa_set=n[o].nfa_set.concat(a);-1<(o=function(e){for(var r=0;r<e.length;r++)if(!e[r].done)return r;return-1}(n));){n[o].done=!0,t=-1;for(var s=0;s<n[o].nfa_set.length;s++)(-1<e[n[o].nfa_set[s]].accept&&e[n[o].nfa_set[s]].weight<t||-1==t)&&(n[o].accept=e[n[o].nfa_set[s]].accept,t=e[n[o].nfa_set[s]].weight);for(s=V;s<X;s++)0<(r=Ie(r=(r=new Array).concat(n[o].nfa_set),e,s)).length&&Ne(r,e),0==r.length?l=-1:-1==(l=function(e,r){for(var t,n=0;n<e.length;n++)if(e[n].nfa_set.length==r.length){for(t=0;t<e[n].nfa_set.length&&e[n].nfa_set[t]==r[t];t++);if(t==e[n].nfa_set.length)return n}return-1}(n,r))&&(n[l=Pe(n)].nfa_set=r),n[o].line[s]=l}return n}function je(e){var r,t,n,a,o=new Array,l=(new Array,new Array),s=new Array,c=0,h=0;if(0==e.length)return s;for(o.push(new Array),t=0;t<e.length;t++)if(-1<e[t].accept){for(n=0;n<l.length&&l[n]!=e[t].accept;n++);n==l.length&&(l.push(e[t].accept),o.push(new Array)),o[n+1].push(t),e[t].group=n+1}else o[0].push(t),e[t].group=0;do{for(c=h,t=0;t<o.length;t++){if(r=new Array,0<o[t].length)for(n=1;n<o[t].length;n++)for(a=V;a<X;a++)if(e[o[t][0]].line[a]!=e[o[t][n]].line[a]&&(-1==e[o[t][0]].line[a]||-1==e[o[t][n]].line[a])||-1<e[o[t][0]].line[a]&&-1<e[o[t][n]].line[a]&&e[e[o[t][0]].line[a]].group!=e[e[o[t][n]].line[a]].group){e[o[t][n]].group=o.length,r=r.concat(o[t].splice(n,1)),n--;break}0<r.length&&(o[o.length]=new Array,o[o.length-1]=o[o.length-1].concat(r),h+=r.length)}}while(c!=h);for(t=0;t<e.length;t++)for(n=V;n<X;n++)-1<e[t].line[n]&&(e[t].line[n]=e[e[t].line[n]].group);for(t=0;t<o.length;t++)s.push(e[o[t][0]]);return s}var Me,Fe,Je,We=!1,De=new String;function Ge(e){De+=e+"\n"}function He(e){var r=0,t=-1,n=0,a=0,o=e.offset+1;do{if(r=0,t=-2,a=--o,e.src.length<=a)return 32;do{switch(r){case 0:r=9<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=10||13==e.src.charCodeAt(o)||32==e.src.charCodeAt(o)?1:33==e.src.charCodeAt(o)?2:38==e.src.charCodeAt(o)?3:45==e.src.charCodeAt(o)||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57||65<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||95==e.src.charCodeAt(o)||97<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=122?4:58==e.src.charCodeAt(o)?5:59==e.src.charCodeAt(o)?6:60==e.src.charCodeAt(o)?7:62==e.src.charCodeAt(o)?8:94==e.src.charCodeAt(o)?9:124==e.src.charCodeAt(o)?10:34==e.src.charCodeAt(o)?15:35==e.src.charCodeAt(o)?18:39==e.src.charCodeAt(o)?19:47==e.src.charCodeAt(o)?20:91==e.src.charCodeAt(o)?21:-1;break;case 1:r=-1,t=1,n=o;break;case 2:r=-1,t=6,n=o;break;case 3:r=-1,t=10,n=o;break;case 4:r=45==e.src.charCodeAt(o)||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57||65<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||95==e.src.charCodeAt(o)||97<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=122?4:-1,t=14,n=o;break;case 5:r=-1,t=8,n=o;break;case 6:r=-1,t=7,n=o;break;case 7:r=-1,t=3,n=o;break;case 8:r=-1,t=4,n=o;break;case 9:r=-1,t=5,n=o;break;case 10:r=-1,t=9,n=o;break;case 11:r=-1,t=13,n=o;break;case 12:r=-1,t=2,n=o;break;case 13:r=-1,t=12,n=o;break;case 14:r=-1,t=11,n=o;break;case 15:r=34==e.src.charCodeAt(o)?11:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:92==e.src.charCodeAt(o)?22:-1;break;case 16:r=34==e.src.charCodeAt(o)?11:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:92==e.src.charCodeAt(o)?22:-1,t=13,n=o;break;case 17:r=39==e.src.charCodeAt(o)?13:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1,t=12,n=o;break;case 18:r=35==e.src.charCodeAt(o)?12:-1;break;case 19:r=39==e.src.charCodeAt(o)?13:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1;break;case 20:r=126==e.src.charCodeAt(o)?24:-1;break;case 21:r=42==e.src.charCodeAt(o)?32:-1;break;case 22:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:34==e.src.charCodeAt(o)?16:92==e.src.charCodeAt(o)?22:-1;break;case 23:r=39==e.src.charCodeAt(o)?17:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1;break;case 24:r=47==e.src.charCodeAt(o)?25:126==e.src.charCodeAt(o)?26:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1;break;case 25:r=47==e.src.charCodeAt(o)?24:-1;break;case 26:r=47==e.src.charCodeAt(o)?1:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?24:-1;break;case 27:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=41||43<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?27:42==e.src.charCodeAt(o)?28:-1;break;case 28:r=93==e.src.charCodeAt(o)?14:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=92||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?31:-1;break;case 29:r=93==e.src.charCodeAt(o)?31:-1;break;case 30:r=126==e.src.charCodeAt(o)?26:47==e.src.charCodeAt(o)?30:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1;break;case 31:case 32:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=41||43<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=92||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?27:42==e.src.charCodeAt(o)?28:93==e.src.charCodeAt(o)?29:-1;break;case 33:r=126==e.src.charCodeAt(o)?26:47==e.src.charCodeAt(o)?30:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1}o++}while(-1<r)}while(1==t);return-1<t?(e.att=e.src.substr(a,n-a),e.offset=n):(e.att=new String,t=-1),t}function Ue(e,r){var t=new Array,n=new Array,a=0;if(T=!0,0<(a+=function(e,r,t){var n,a,o,l=new Array,s=new Array,c=0,h=new new Function("","var offset; var src; var att;"),i=new Array(new Array(0,1),new Array(19,5),new Array(15,1),new Array(18,1),new Array(16,2),new Array(16,0),new Array(21,3),new Array(21,3),new Array(21,3),new Array(21,2),new Array(21,2),new Array(22,2),new Array(22,0),new Array(24,3),new Array(24,2),new Array(17,2),new Array(17,0),new Array(26,4),new Array(27,3),new Array(27,1),new Array(28,3),new Array(30,2),new Array(30,2),new Array(30,0),new Array(29,2),new Array(29,0),new Array(31,1),new Array(31,1),new Array(20,2),new Array(20,0),new Array(23,1),new Array(23,1),new Array(25,1)),d=new Array(new Array(3,-29,4,-29,5,-29,6,-29,7,-29,12,-29,13,-29,2,-29,11,-29),new Array(32,0),new Array(2,-5,3,-5,4,-5,5,-5,6,-5,7,-5,12,-5,13,-5),new Array(11,5,3,-2,4,-2,5,-2,6,-2,7,-2,12,-2,13,-2,2,-2),new Array(2,7,3,8,4,9,5,10,6,12,7,-12,12,-12,13,-12),new Array(3,-28,4,-28,5,-28,6,-28,7,-28,12,-28,13,-28,2,-28,11,-28,32,-28,9,-28),new Array(2,-4,3,-4,4,-4,5,-4,6,-4,7,-4,12,-4,13,-4),new Array(11,-16,32,-16,14,-16),new Array(7,-12,12,-12,13,-12),new Array(7,-12,12,-12,13,-12),new Array(7,-12,12,-12,13,-12),new Array(7,18,12,20,13,21),new Array(12,20,13,21),new Array(14,27,32,-29,11,-29),new Array(7,28,12,20,13,21),new Array(7,29,12,20,13,21),new Array(7,30,12,20,13,21),new Array(7,-11,12,-11,13,-11),new Array(2,-9,3,-9,4,-9,5,-9,6,-9,7,-9,12,-9,13,-9),new Array(14,27,7,-29,12,-29,13,-29,11,-29),new Array(14,-30,11,-30,7,-30,12,-30,13,-30,2,-30,3,-30,4,-30,5,-30,6,-30,10,-30,9,-30),new Array(14,-31,11,-31,7,-31,12,-31,13,-31,2,-31,3,-31,4,-31,5,-31,6,-31,10,-31,9,-31),new Array(2,-10,3,-10,4,-10,5,-10,6,-10,7,-10,12,-10,13,-10),new Array(11,-15,32,-15,14,-15),new Array(32,-1),new Array(11,5,32,-3),new Array(8,33),new Array(8,-32,11,-32,7,-32,12,-32,13,-32,10,-32,9,-32,14,-32),new Array(2,-6,3,-6,4,-6,5,-6,6,-6,7,-6,12,-6,13,-6),new Array(2,-7,3,-7,4,-7,5,-7,6,-7,7,-7,12,-7,13,-7),new Array(2,-8,3,-8,4,-8,5,-8,6,-8,7,-8,12,-8,13,-8),new Array(11,5,7,-14,12,-14,13,-14),new Array(7,-29,12,-29,13,-29,11,-29),new Array(10,-25,11,-25,7,-25,9,-25,14,-25,12,-25,13,-25),new Array(11,5,7,-13,12,-13,13,-13),new Array(9,38,7,39),new Array(7,-19,9,-19),new Array(10,42,14,27,12,20,13,21,11,-23,7,-23,9,-23),new Array(10,-25,11,-25,7,-25,9,-25,14,-25,12,-25,13,-25),new Array(11,-17,32,-17,14,-17),new Array(10,-24,11,-24,7,-24,9,-24,14,-24,12,-24,13,-24),new Array(7,-29,9,-29,11,-29),new Array(14,27,12,20,13,21),new Array(10,-26,11,-26,7,-26,9,-26,14,-26,12,-26,13,-26),new Array(10,-27,11,-27,7,-27,9,-27,14,-27,12,-27,13,-27),new Array(7,-18,9,-18),new Array(11,5,7,-20,9,-20),new Array(11,-22,7,-22,9,-22),new Array(11,-21,7,-21,9,-21)),f=new Array(new Array(19,1,15,2,20,3),new Array,new Array(16,4),new Array,new Array(21,6,22,11),new Array,new Array,new Array(17,13),new Array(22,14),new Array(22,15),new Array(22,16),new Array(24,17,23,19),new Array(23,22),new Array(26,23,18,24,20,25,25,26),new Array(24,17,23,19),new Array(24,17,23,19),new Array(24,17,23,19),new Array,new Array,new Array(20,31,25,32),new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array(20,34),new Array(27,35,28,36,29,37),new Array,new Array,new Array,new Array(31,40,30,41,25,43,23,44),new Array(28,45,29,37),new Array,new Array,new Array(20,46),new Array(23,47,25,48),new Array,new Array,new Array,new Array,new Array,new Array),g=new Array("def'","WHITESPACE","##","<",">","^","!",";",":","|","&","CODE","STRING_SINGLE","STRING_DOUBLE","IDENT","header_code","token_assocs","grammar_defs","footer_code","def","code","token_assoc","token_defs","string","token_def","identifier","grammar_def","productions","rhs","sequence","rhs_prec","symbol","$");for(h.offset=0,h.src=e,h.att=new String,r=r||new Array,t=t||new Array,l.push(0),s.push(0),o=He(h);;){n=50;for(var A,w=0;w<d[l[l.length-1]].length;w+=2)if(d[l[l.length-1]][w]==o){n=d[l[l.length-1]][w+1];break}if(We&&0<l.length&&Ge("\nState "+l[l.length-1]+"\n\tLookahead: "+g[o]+' ("'+h.att+'")\n\tAction: '+n+'\n\tSource: "'+h.src.substr(h.offset,30)+(h.offset+30<h.src.length?"...":"")+'"\n\tStack: '+l.join()+"\n\tValue stack: "+s.join()+"\n"),50==n){We&&Ge("Error detected: There is no reduce or shift on the symbol "+g[o]),c++,r.push(h.offset-h.att.length),t.push(new Array);for(w=0;w<d[l[l.length-1]].length;w+=2)t[t.length-1].push(g[d[l[l.length-1]][w]]);for(var y=new Array,u=new Array,w=0;w<l.length;w++)y[w]=l[w],u[w]=s[w];for(;50==n&&32!=o;){for(We&&Ge("\tError recovery\nCurrent lookahead: "+g[o]+" ("+h.att+")\nAction: "+n+"\n\n"),-1==o&&h.offset++;50==n&&0<l.length&&(l.pop(),s.pop(),0!=l.length);){n=50;for(w=0;w<d[l[l.length-1]].length;w+=2)if(d[l[l.length-1]][w]==o){n=d[l[l.length-1]][w+1];break}}if(50!=n)break;for(w=0;w<y.length;w++)l.push(y[w]),s.push(u[w]);o=He(h)}if(50==n){We&&Ge("\tError recovery failed, terminating parse process...");break}We&&Ge("\tError recovery succeeded, continuing")}if(0<n)We&&Ge("Shifting symbol: "+g[o]+" ("+h.att+")"),l.push(n),s.push(h.att),o=He(h),We&&Ge("\tNew lookahead symbol: "+g[o]+" ("+h.att+")");else{switch(n*=-1,We&&Ge("Reducing by producution: "+n),b=void 0,We&&Ge("\tPerforming semantic action..."),n){case 0:b=s[s.length-1];break;case 1:b=s[s.length-5];break;case 2:S+=s[s.length-1];break;case 3:E+=s[s.length-1];break;case 4:b=s[s.length-2];break;case 5:b=s[+s.length];break;case 6:L++;for(w=0;w<s[s.length-2].length;w++)v[s[s.length-2][w]].level=L,v[s[s.length-2][w]].assoc=D;break;case 7:L++;for(w=0;w<s[s.length-2].length;w++)v[s[s.length-2][w]].level=L,v[s[s.length-2][w]].assoc=G;break;case 8:L++;for(w=0;w<s[s.length-2].length;w++)v[s[s.length-2][w]].level=L,v[s[s.length-2][w]].assoc=H;break;case 9:b=s[s.length-2];break;case 10:-1==m?Xe(p=s[s.length-1].substr(1,s[s.length-1].length-2),m=Ce("WHITESPACE",j,J),"'"!=s[s.length-1].charAt(0)):I("Multiple whitespace definition");break;case 11:s[s.length-2].push(s[s.length-1]),b=s[s.length-2];break;case 12:b=new Array;break;case 13:b=Ce(s[s.length-2],j,M);var p=s[s.length-3].substr(1,s[s.length-3].length-2);v[b].code=s[s.length-1],Xe(p,v[b].id,"'"!=s[s.length-3].charAt(0));break;case 14:var b=Ce((p=s[s.length-2].substr(1,s[s.length-2].length-2)).replace(/\\/g,""),j,M);v[b].code=s[s.length-1],Xe(p,v[b].id,"'"!=s[s.length-2].charAt(0));break;case 15:b=s[s.length-2];break;case 16:b=s[+s.length];break;case 17:var C=Ce(s[s.length-4],O,M);v[C].defined=!0;for(w=0;w<s[s.length-2].length;w++)_[s[s.length-2][w]].lhs=C,v[C].prods.push(s[s.length-2][w]);T&&(T=!1,v[0].label=v[C].label+"'",_[0].rhs.push(C));break;case 18:(b=(b=new Array).concat(s[s.length-3])).push(s[s.length-1]);break;case 19:(b=new Array).push(s[s.length-1]);break;case 20:var k=new ee;if(k.id=_.length,k.rhs=s[s.length-3],k.level=s[s.length-2],k.code=s[s.length-1],""==k.code&&(k.code=new String(U)),0==k.level&&0<k.rhs.length)for(w=k.rhs.length-1;0<=w;w--)if(v[k.rhs[w]].kind==j){k.level=v[k.rhs[w]].level;break}_.push(k),b=k.id;break;case 21:-1<(A=be(s[s.length-1],j,M))?b=v[A].level:I('Call to undefined terminal "'+s[s.length-1]+'"');break;case 22:-1<(A=be(s[s.length-1].substr(1,s[s.length-1].length-2).replace(/\\/g,""),j,M))?b=v[A].level:I('Call to undefined terminal "'+s[s.length-1]+'"');break;case 23:b=0;break;case 24:(b=(b=new Array).concat(s[s.length-2])).push(s[s.length-1]);break;case 25:b=new Array;break;case 26:b=-1<(A=be(s[s.length-1],j,M))?A:Ce(s[s.length-1],O,M);break;case 27:-1<(A=be(s[s.length-1].substr(1,s[s.length-1].length-2).replace(/\\/g,""),j,M))?b=A:I('Call to undefined terminal "'+s[s.length-1]+'"');break;case 28:b=s[s.length-2]+s[s.length-1].substr(2,s[s.length-1].length-4);break;case 29:b=new String;break;case 30:case 31:case 32:b=s[s.length-1]}We&&Ge("\tPopping "+i[n][1]+" off the stack...");for(w=0;w<i[n][1];w++)l.pop(),s.pop();a=-1;for(w=0;w<f[l[l.length-1]].length;w+=2)if(f[l[l.length-1]][w]==i[n][0]){a=f[l[l.length-1]][w+1];break}if(0==n)break;We&&Ge("\tPushing non-terminal "+g[i[n][0]]),l.push(a),s.push(b)}We&&(P(De),De=new String)}return We&&(Ge("\nParse complete."),P(De)),c}(e,t,n)))for(i=0;i<a;i++)I(r+", line "+(e.substr(0,t[i]).match(/\n/g)?e.substr(0,t[i]).match(/\n/g).length:1)+': Parse error near "'+e.substr(t[i],30)+(t[i]+30<e.substr(t[i]).length?"...":"")+'", expecting "'+n[i].join()+'"')}function Be(e){for(var r,t,n=0;n<e.length&&e[n].edge!=z;n++);return n==e.length&&(r=new ne,e.push(r)),e[n].edge=K,e[n].ccl=(t=X)<=0?new Array:new Array(Math.ceil(t/8)),e[n].accept=-1,e[n].follow=-1,e[n].follow2=-1,e[n].weight=-1,Je.push(n),n}var Ye=!1,$e=new String;function qe(e){$e+=e+"\n"}function Ve(e){var r=0,t=-1,n=0,a=0,o=e.offset+1,r=0,t=-2,a=--o;if(e.src.length<=a)return 21;do{switch(r){case 0:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=39||44<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=45||47<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=62||64<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=123||125<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?1:40==e.src.charCodeAt(o)?2:41==e.src.charCodeAt(o)?3:42==e.src.charCodeAt(o)?4:43==e.src.charCodeAt(o)?5:46==e.src.charCodeAt(o)?6:63==e.src.charCodeAt(o)?7:91==e.src.charCodeAt(o)?8:93==e.src.charCodeAt(o)?9:124==e.src.charCodeAt(o)?10:92==e.src.charCodeAt(o)?13:-1;break;case 1:r=-1,t=12,n=o;break;case 2:r=-1,t=5,n=o;break;case 3:r=-1,t=6,n=o;break;case 4:r=-1,t=2,n=o;break;case 5:r=-1,t=3,n=o;break;case 6:r=-1,t=9,n=o;break;case 7:r=-1,t=4,n=o;break;case 8:r=-1,t=7,n=o;break;case 9:r=-1,t=8,n=o;break;case 10:r=-1,t=1,n=o;break;case 11:r=-1,t=11,n=o;break;case 12:r=48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57?12:-1,t=10,n=o;break;case 13:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=47||58<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?11:48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57?12:-1,t=12,n=o}o++}while(-1<r);return-1<t?(e.att=e.src.substr(a,n-a),e.offset=n):(e.att=new String,t=-1),t}function Xe(e,r,t){var n,a,o=new Array,l=new Array;if(""!=e)if(Je=new Array,Me=Be(C),0==(a=function(e,r,t){var n,a,o,l=new Array,s=new Array,c=0,h=new new Function("","var offset; var src; var att;"),i=new Array(new Array(0,1),new Array(14,1),new Array(13,3),new Array(13,1),new Array(15,2),new Array(15,1),new Array(16,2),new Array(16,2),new Array(16,2),new Array(16,1),new Array(17,1),new Array(17,1),new Array(17,3),new Array(19,3),new Array(19,1),new Array(20,2),new Array(20,0),new Array(18,1),new Array(18,1),new Array(18,1)),d=new Array(new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(21,0),new Array(1,14,21,-1),new Array(5,8,10,9,11,10,12,11,7,12,9,13,21,-3,1,-3,6,-3),new Array(21,-5,1,-5,5,-5,10,-5,11,-5,12,-5,7,-5,9,-5,6,-5),new Array(4,16,3,17,2,18,21,-9,1,-9,5,-9,10,-9,11,-9,12,-9,7,-9,9,-9,6,-9),new Array(2,-10,3,-10,4,-10,21,-10,1,-10,5,-10,10,-10,11,-10,12,-10,7,-10,9,-10,6,-10),new Array(2,-11,3,-11,4,-11,21,-11,1,-11,5,-11,10,-11,11,-11,12,-11,7,-11,9,-11,6,-11),new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(2,-17,3,-17,4,-17,21,-17,1,-17,5,-17,10,-17,11,-17,12,-17,7,-17,9,-17,6,-17,8,-17),new Array(2,-18,3,-18,4,-18,21,-18,1,-18,5,-18,10,-18,11,-18,12,-18,7,-18,9,-18,6,-18,8,-18),new Array(2,-19,3,-19,4,-19,21,-19,1,-19,5,-19,10,-19,11,-19,12,-19,7,-19,9,-19,6,-19,8,-19),new Array(8,-16,10,-16,11,-16,12,-16),new Array(2,-14,3,-14,4,-14,21,-14,1,-14,5,-14,10,-14,11,-14,12,-14,7,-14,9,-14,6,-14),new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(21,-4,1,-4,5,-4,10,-4,11,-4,12,-4,7,-4,9,-4,6,-4),new Array(21,-8,1,-8,5,-8,10,-8,11,-8,12,-8,7,-8,9,-8,6,-8),new Array(21,-7,1,-7,5,-7,10,-7,11,-7,12,-7,7,-7,9,-7,6,-7),new Array(21,-6,1,-6,5,-6,10,-6,11,-6,12,-6,7,-6,9,-6,6,-6),new Array(1,14,6,22),new Array(8,24,10,9,11,10,12,11),new Array(5,8,10,9,11,10,12,11,7,12,9,13,21,-2,1,-2,6,-2),new Array(2,-12,3,-12,4,-12,21,-12,1,-12,5,-12,10,-12,11,-12,12,-12,7,-12,9,-12,6,-12),new Array(8,-15,10,-15,11,-15,12,-15),new Array(2,-13,3,-13,4,-13,21,-13,1,-13,5,-13,10,-13,11,-13,12,-13,7,-13,9,-13,6,-13)),f=new Array(new Array(14,1,13,2,15,3,16,4,17,5,18,6,19,7),new Array,new Array,new Array(16,15,17,5,18,6,19,7),new Array,new Array,new Array,new Array,new Array(13,19,15,3,16,4,17,5,18,6,19,7),new Array,new Array,new Array,new Array(20,20),new Array,new Array(15,21,16,4,17,5,18,6,19,7),new Array,new Array,new Array,new Array,new Array,new Array(18,23),new Array(16,15,17,5,18,6,19,7),new Array,new Array,new Array),g=new Array("RegEx'","|","*","+","?","(",")","[","]","ANY_CHAR","ASCII_CODE","ESCAPED_CHAR","ANY","Expression","RegEx","Catenation","Factor","Term","Character","CharacterSet","CharClass","$");for(h.offset=0,h.src=e,h.att=new String,r=r||new Array,t=t||new Array,l.push(0),s.push(0),o=Ve(h);;){n=26;for(var A=0;A<d[l[l.length-1]].length;A+=2)if(d[l[l.length-1]][A]==o){n=d[l[l.length-1]][A+1];break}if(Ye&&0<l.length&&qe("\nState "+l[l.length-1]+"\n\tLookahead: "+g[o]+' ("'+h.att+'")\n\tAction: '+n+'\n\tSource: "'+h.src.substr(h.offset,30)+(h.offset+30<h.src.length?"...":"")+'"\n\tStack: '+l.join()+"\n\tValue stack: "+s.join()+"\n"),26==n){Ye&&qe("Error detected: There is no reduce or shift on the symbol "+g[o]),c++,r.push(h.offset-h.att.length),t.push(new Array);for(A=0;A<d[l[l.length-1]].length;A+=2)t[t.length-1].push(g[d[l[l.length-1]][A]]);for(var w=new Array,y=new Array,A=0;A<l.length;A++)w[A]=l[A],y[A]=s[A];for(;26==n&&21!=o;){for(Ye&&qe("\tError recovery\nCurrent lookahead: "+g[o]+" ("+h.att+")\nAction: "+n+"\n\n"),-1==o&&h.offset++;26==n&&0<l.length&&(l.pop(),s.pop(),0!=l.length);){n=26;for(A=0;A<d[l[l.length-1]].length;A+=2)if(d[l[l.length-1]][A]==o){n=d[l[l.length-1]][A+1];break}}if(26!=n)break;for(A=0;A<w.length;A++)l.push(w[A]),s.push(y[A]);o=Ve(h)}if(26==n){Ye&&qe("\tError recovery failed, terminating parse process...");break}Ye&&qe("\tError recovery succeeded, continuing")}if(0<n)Ye&&qe("Shifting symbol: "+g[o]+" ("+h.att+")"),l.push(n),s.push(h.att),o=Ve(h),Ye&&qe("\tNew lookahead symbol: "+g[o]+" ("+h.att+")");else{switch(n*=-1,Ye&&qe("Reducing by producution: "+n),u=void 0,Ye&&qe("\tPerforming semantic action..."),n){case 0:u=s[s.length-1];break;case 1:u=new oe,C[Me].follow=s[s.length-1].start,Fe=s[s.length-1].end;break;case 2:(u=new oe).start=Be(C),u.end=Be(C),C[u.start].follow=s[s.length-3].start,C[u.start].follow2=s[s.length-1].start,C[s[s.length-3].end].follow=u.end,C[s[s.length-1].end].follow=u.end;break;case 3:u=s[s.length-1];break;case 4:C[s[s.length-2].end].edge=C[s[s.length-1].start].edge,C[s[s.length-2].end].ccl=C[s[s.length-1].start].ccl,C[s[s.length-2].end].follow=C[s[s.length-1].start].follow,C[s[s.length-2].end].follow2=C[s[s.length-1].start].follow2,C[s[s.length-2].end].accept=C[s[s.length-1].start].accept,C[s[s.length-1].start].edge=z,s[s.length-2].end=s[s.length-1].end,u=s[s.length-2];break;case 5:u=s[s.length-1];break;case 6:(u=new oe).start=Be(C),u.end=Be(C),C[u.start].follow=s[s.length-2].start,C[s[s.length-2].end].follow=u.end,C[u.start].follow2=u.end,C[s[s.length-2].end].follow2=s[s.length-2].start;break;case 7:(u=new oe).start=Be(C),u.end=Be(C),C[u.start].follow=s[s.length-2].start,C[s[s.length-2].end].follow=u.end,C[s[s.length-2].end].follow2=s[s.length-2].start;break;case 8:(u=new oe).start=Be(C),u.end=Be(C),C[u.start].follow=s[s.length-2].start,C[u.start].follow2=u.end,C[s[s.length-2].end].follow=u.end;break;case 9:u=s[s.length-1];break;case 10:(u=new oe).start=Be(C),u.end=C[u.start].follow=Be(C),C[u.start].edge=Q,Re(C[u.start].ccl,s[s.length-1].charCodeAt(0),1);break;case 11:u=s[s.length-1];break;case 12:u=s[s.length-2];break;case 13:var u,p=!1,A=0;if((u=new oe).start=Be(C),u.end=C[u.start].follow=Be(C),C[u.start].edge=Q,"^"==s[s.length-2].charAt(A)){p=!0;for(var b=V;b<X;b++)Re(C[u.start].ccl,b,1);A++}for(;A<s[s.length-2].length;A++)if("-"==s[s.length-2].charAt(A+1)&&A+2<s[s.length-2].length)for(A++,b=s[s.length-2].charCodeAt(A-1);b<s[s.length-2].charCodeAt(A+1);b++)Re(C[u.start].ccl,b,p?0:1);else Re(C[u.start].ccl,s[s.length-2].charCodeAt(A),p?0:1);break;case 14:(u=new oe).start=Be(C),u.end=C[u.start].follow=Be(C),C[u.start].edge=Q;for(A=V;A<X;A++)Re(C[u.start].ccl,A,1);break;case 15:u=new String(s[s.length-2]+s[s.length-1]);break;case 16:u=new String;break;case 17:u=String.fromCharCode(s[s.length-1].substr(1));break;case 18:switch(s[s.length-1].substr(1)){case"n":u="\n";break;case"r":u="\r";break;case"t":u="\t";break;case"a":u="a";break;default:u=s[s.length-1].substr(1)}break;case 19:u=s[s.length-1]}Ye&&qe("\tPopping "+i[n][1]+" off the stack...");for(A=0;A<i[n][1];A++)l.pop(),s.pop();a=-1;for(A=0;A<f[l[l.length-1]].length;A+=2)if(f[l[l.length-1]][A]==i[n][0]){a=f[l[l.length-1]][A+1];break}if(0==n)break;Ye&&qe("\tPushing non-terminal "+g[i[n][0]]),l.push(a),s.push(u)}Ye&&(P($e),$e=new String)}return Ye&&(qe("\nParse complete."),P($e)),c}(e,o,l))){if(t)for(n=0;n<Je.length;n++)if(C[Je[n]].edge==Q)for(c=V;c<X;c++)Le(C[Je[n]].ccl,c)&&(Re(C[Je[n]].ccl,String.fromCharCode(c).toUpperCase().charCodeAt(0),1),Re(C[Je[n]].ccl,String.fromCharCode(c).toLowerCase().charCodeAt(0),1));if(C[Fe].accept=r,C[Fe].weight=h++,0<Me){for(n=0;-1!=C[n].follow2;)n=C[n].follow2;C[n].follow2=Me}}else for(n=0;n<a;n++){for(var s=new String,c=0;c<o[n];c++)s+=" ";I('Regular expression "'+e+'"\n                           '+s+'^\n       expecting "'+l[n].join()+'"')}}function ze(){var e=new String;e+="usage: jscc [options] filename\n\n",e+="       -h   --help               Print this usage help\n",e+="       -i   --version            Print version and copyright\n",e+="       -o   --output <file>      Save output source to <file>\n",e+="       -p   --prefix <prefix>    Use <prefix> as sequence pre-\n",e+="                                 fixing methods and variables\n",e+="       -t   --template <file>    Use template file <file> as\n",e+="                                 parser template\n",e+="       -v   --verbose            Run in verbose mode\n",x(e+="       -w   --warnings           Print warnings\n")}return{reset_all:Ee,EXEC_WEB:1,MODE_GEN_JS:Y,parse_grammar:Ue,undef:Te,unreachable:xe,first:se,print_symbols:function(e){e==$?(x('<table class="debug" cellpadding="0" cellspacing="0">'),x("<tr>"),x('<td class="tabtitle" colspan="3">Symbols Overview</td>'),x("</tr>"),x("<tr>"),x('<td class="coltitle">Symbol</td>'),x('<td class="coltitle">Type</td>'),x("</tr>")):e==B&&x("--- Symbol Dump ---");for(var r=0;r<v.length;r++)if(e==$)x("<tr>"),x("<td>"),x(v[r].label),x("</td>"),x("<td>"),x(v[r].kind==O?"Non-terminal":"Terminal"),x("</td>");else if(e==B){for(var t=new String,n=(t=v[r].label).length;n<20;n++)t+=" ";if(t+=v[r].kind==O?"Non-terminal":"Terminal",v[r].kind==j){for(n=t.length;n<40;n++)t+=" ";switch(t+=v[r].level+"/",v[r].assoc){case W:t+="^";break;case D:t+="<";break;case G:t+=">"}}x(t)}e==$?x("</table>"):e==B&&x("")},create_subset:Oe,get_nfa_states:function(){return C},get_dfa_table:function(){return dfa_table},set_dfa_table:function(e){return dfa_table=e},minimize_dfa:je,lalr1_parse_table:me,getErrors:function(){return y},getWarnings:function(){return u},resetErrors:function(){y=0,r=[]},resetWarnings:function(){u=0,t=[]},get_code_head:function(){return S},print_parse_tables:ce,print_dfa_table:he,print_term_actions:de,print_symbol_labels:ie,print_actions:fe,get_error_symbol_id:Ae,get_eof_symbol_id:ge,get_whitespace_symbol_id:e,getErrorMessages:function(){return r},getWarningMessages:function(){return t},cli:function(e){Ee(q);for(var r,t,n,a=new String,o=new String,l="",s=new String,c=!1,h=!1,i=!1,d=e||process.argv,f=0;f<d.length;f++)if("-o"==d[f].toLowerCase()||"--output"==d[f].toLowerCase())a=d[++f];else if("-t"==d[f].toLowerCase()||"--template"==d[f].toLowerCase())l=d[++f];else if("-p"==d[f].toLowerCase()||"--prefix"==d[f].toLowerCase())s=d[++f];else if("-w"==d[f].toLowerCase()||"--warnings"==d[f].toLowerCase())p=!0;else if("-v"==d[f].toLowerCase()||"--verbose"==d[f].toLowerCase())i=!0;else if("-d"==d[f].toLowerCase()||"--debug"==d[f].toLowerCase()){for(var g=0;g<d[f+1].length;g++)switch(d[f+1].charAt(g)){case"n":c=!0;break;case"d":h=!0}f++}else"-i"==d[f].toLowerCase()||"--version"==d[f].toLowerCase()?(t=void 0,t=new String,t+="JS/CC v"+N+": A LALR(1) Parser and Lexer Generator written in JavaScript\n",t+="Copyright (C) 2007, 2008 by J.M.K S.F. Software Technologies,Jan Max Meyer\n",t+="http://jscc.jmksf.com ++ jscc@jmksf.com\n\n",t+="You may use, modify and distribute this software under the terms and conditions\n",x(t+="of the Artistic License. Please see ARTISTIC for more information.\n"),A(0)):"-h"==d[f].toLowerCase()||"--help"==d[f].toLowerCase()?(ze(),A(0)):""==o&&(o=d[f]);""!=o?(Ue(read_file(o),o),0==y&&(Te(),xe(),0==y&&(se(),me(!1),function(){for(var e=0;e<w.length;e++)0==w[e].actionrow.length&&I("No lookaheads in state "+e+", watch for endless list definitions")}(),0==y&&(c&&function(e){x("Pos\tType\t\tfollow\t\tfollow2\t\taccept"),x("-------------------------------------------------------------------");for(var r=0;r<e.length;r++)if(x(r+"\t"+(C[r].edge==z?"FREE":C[r].edge==K?"EPSILON":"CHAR")+"\t\t"+(C[r].edge!=z&&-1<C[r].follow?C[r].follow:"")+"\t\t"+(C[r].edge!=z&&-1<C[r].follow2?C[r].follow2:"")+"\t\t"+(C[r].edge!=z&&-1<C[r].accept?C[r].accept:"")),C[r].edge==Q){for(var t=new String,n=V;n<X;n++)Le(C[r].ccl,n)&&10==(t+=String.fromCharCode(n)).length&&(x("\t"+t),t="");0<t.length&&x("\t"+t)}x("")}(C),r=je(r=Oe(C)),h&&function(e){for(var r=new String,t=0,n=0;n<e.length;n++){r=n+" => (";for(var a=t=0;a<e[n].line.length;a++)-1<e[n].line[a]&&(r+=" >"+String.fromCharCode(a)+"<,"+e[n].line[a]+" ",++t%5==0&&(r+="\n      "));r+=") "+e[n].accept,x(r)}}(r),n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=read_file(l)).replace(/##HEADER##/gi,S)).replace(/##TABLES##/gi,ce(Y))).replace(/##DFA##/gi,he(r))).replace(/##TERMINAL_ACTIONS##/gi,de())).replace(/##LABELS##/gi,ie())).replace(/##ACTIONS##/gi,fe())).replace(/##FOOTER##/gi,E)).replace(/##PREFIX##/gi,s)).replace(/##ERROR##/gi,Ae())).replace(/##EOF##/gi,ge())).replace(/##WHITESPACE##/gi,m),""!=a?write_file(a,n):x(n),i&&x('"'+o+'" produced '+w.length+" states ("+b+" shifts, "+k+" reductions, "+R+" gotos)")))),i&&x(u+" warning"+(1<u?"s":"")+", "+y+" error"+(1<y?"s":""))):ze(),A(y)},set_debug:function(e,r,t){s=e,p=r,We=t},set_printError:function(e){d=e||n},set_printWarning:function(e){f=e||a},set_printInfo:function(e){x=e||o},get_printError:function(){return d},get_printWarning:function(){return f},get_printInfo:function(){return x},is_printError_default:function(){return d===n},is_printWarning_default:function(){return f===a},is_printInfo_default:function(){return x===o},set_alert:function(e){P=e||l},get_alert:function(){return P},is_alert_default:function(){return P===l}}});
//# sourceMappingURL=jscc-umd.min.js.map